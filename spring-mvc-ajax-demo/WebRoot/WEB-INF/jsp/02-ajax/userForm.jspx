<html xmlns:c="http://java.sun.com/jsp/jstl/core"  xmlns:spring="http://www.springframework.org/tags" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:form="http://www.springframework.org/tags/form">	<jsp:output doctype-root-element="HTML" doctype-system="about:legacy-compat" />	<jsp:directive.page contentType="text/html;charset=UTF-8" />  	<head>		<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>		<title>Create a new User</title>		<spring:url value="/style" var="styleUrl" />		<link href="${styleUrl}/app.css" rel="stylesheet"/>				<spring:url value="/js/jquery.js" var="jqueryUrl" />		<![CDATA[<script src="${jqueryUrl}"></script>]]>	</head>	<body>		<div class="container" style="padding-top: 50px;">					<jsp:include page="../menu.jspx"/>											<spring:url value="/userAjax.htm" var="formUrl" />			<spring:url value="/userAjax.json" var="formJsonUrl" />			<spring:url value="/success.htm" var="successUrl" />						<form:form modelAttribute="user" action="${formUrl}" id="add-user-form">				<fieldset>					<div class="control-group" id="firstNameControlGroup">						<label class="control-label">Enter your first name:</label>						<div class="controls">							<form:input path="firstName"/>							<span class="help-inline"><form:errors path="firstName"/></span>						</div>					</div>					<div class="control-group" id="lastNameControlGroup">						<label class="control-label">Enter your last name:</label>						<div class="controls">							<form:input path="lastName"/>							<span class="help-inline"><form:errors path="firstName"/></span>						</div>					</div>					<div class="form-actions">						<button type="submit" class="btn btn-primary">Save changes</button>						<button type="reset" class="btn">Cancel</button>					</div>				</fieldset>			</form:form>		</div>						<script type="text/javascript">		<![CDATA[function collectFormData(fields) {				var data = {};				for (var i = 0; i < fields.length; i++) {					var $item = $(fields[i]);					data[$item.attr('name')] = $item.val();				}				return data;			}							$(document).ready(function() {				var $form = $('#add-user-form');				$form.bind('submit', function(e) {					// Ajax validation					var $inputs = $form.find('input');					var data = collectFormData($inputs);										$.post('${formJsonUrl}', data, function(response) {						$form.find('.control-group').removeClass('error');						$form.find('.help-inline').empty();						$form.find('.alert').remove();												if (response.status == 'FAIL') {							for (var i = 0; i < response.errorMessageList.length; i++) {								var item = response.errorMessageList[i];								var $controlGroup = $('#' + item.fieldName + 'ControlGroup');								$controlGroup.addClass('error');								$controlGroup.find('.help-inline').html(item.message);							}						} else {							$form.unbind('submit');							$form.submit();						}					}, 'json');										e.preventDefault();					return false;				});			});			]]>		</script>	</body></html>